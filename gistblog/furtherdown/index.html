<!DOCTYPE HTML>
<!--
	Striped by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Striped by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>

		<!-- Content -->
			<div id="content">
				<div class="inner">

					<!-- Post -->
						<article class="box post post-excerpt">
							<header>
								<!--
									Note: Titles and subtitles will wrap automatically when necessary, so don't worry
									if they get too long. You can also remove the <p> entirely if you don't
									need a subtitle.
								-->
								<h2><a href="#">Up and Running with Google Protocol Buffers</a></h2>
								<p>A guide to run Google Protocol Buffers on your Mac and write your own serialization class.</p>
							</header>
							<div class="info">
								<!--
									Note: The date should be formatted exactly as it's shown below. In particular, the
									"least significant" characters of the month should be encapsulated in a <span>
									element to denote what gets dropped in 1200px mode (eg. the "uary" in "January").
									Oh, and if you don't need a date for a particular page or post you can simply delete
									the entire "date" element.

								-->
								<span class="date"><span class="month">August<span>y</span></span> <span class="day">4</span><span class="year">, 2016</span></span>
								<!--
									Note: You can change the number of list items in "stats" to whatever you want.
								-->
							</div>
							<p>
								<a href="https://developers.google.com/protocol-buffers/docs/overview#sounds-like-the-solution-for-me--how-do-i-get-started"> Protocol buffers</a> are a flexible, efficient, automated mechanism for serializing structured data.
								You define how you want your data to be structured once, then you can use special generated source code to easily write and read your structured data to and from a variety of data
								streams and using a variety of languages. You can even update your data structure without breaking deployed
								programs that are compiled against the "old" format.</br>

								Looks like this was the solution you were waiting for? Let's see how to get this running. First of all, you would need to right your .proto files.
								These files would contain protocol buffer messages which is nothing more than a record of information and contains name-value pairs.
								A very basic example of a .proto file could be:</br>

								<p>message Person{</br>
										required string name = 1;</br>
  								required int32 id = 2;</br>
  								optional string email = 3;
  								<p>enum PhoneType{</br>
											MOBILE = 0;</br>
    									HOME = 1;</br>
    									WORK = 2;</br>
  									}</br></p>
										<p>
  								message PhoneNumber{ </br>
										required string number = 1;</br>
    								optional PhoneType type = 2 [default = HOME];</br>
  								}</br></p>

  								repeated PhoneNumber phone = 4;</br>
								}</br></p>

								<p>Once you've defined your messages, you run the protocol buffer compiler for your application's language on your .proto file to generate data access classes.
									The prtocol compiler(protoc) is written in C++. So you need to build the binary before the compiler can compile .proto files for you. For all my control freak friends
									who are C++ users, follow these steps:</p>

								<p><h4>Step 1.</h4><a href="https://github.com/google/protobuf">Download the package.</a> This contains the complete source code for the Java, Python, and C++ protocol buffer compilers, as well as the classes you need for I/O and testing.</br>
								<h4>Step 2.</h4>From the source you get from GitHub, execute <i>$ ./autogen.sh</i> to generate the configure script.</br>
								<h4>Step 3.</h4>Now this won't be something that runs like a charm. Since Macintosh System does not have Unix tools available by default, you'd need to do some tinkering. I am
							assuming that you have Xcode installed pre-hand. If yes, then run this command <i>$ sudo xcode-select –install</i>. If not, go to App Store. Now!</br>
						If code is your religion, there are good chances these compenents are already present in your Mac and you might encounter only 2 errors while executing ./autogen.sh (as I did).</br>
						These are due to the absence of:
					</br><h5>1. autoconf:</h5>
				./autogen.sh: line 38: autoreconf: command not found
				<h5>Solution:</h5> Install automake by issuing the <i>'brew install automake'</i> command.
					<h5>2. libtool:</h5>
					autoreconf: failed to run glibtoolize: No such file or directory</br>
					autoreconf: glibtoolize is needed because this package uses Libtool</br>
				<h5>Solution:</h5> Install libtool by issuing the <i>'brew install libtool'</i> command. After installing libtool, update its path to point to bin:</br>
				<i>PATH=$PATH:/usr/local/Cellar/libtool/2.4.6/bin</i></br>
				<i>export PATH</i></br>
			<h4>Step 4.</h4><i>$ ./configure</i>
			<h4>Step 5.</h4><i>$ make</i>
			<h4>Step 6.</h4><i>$ make install</i>
			<h4>Step 7.</h4><i>$ which protoc</i>  This should return “/usr/bin/protoc”
		</p>
		<p>DONE! It's time to write your .proto file now and compile it.</br>
			<h5>For Java, use:</h5> protoc your_proto_file_name.proto --java_out=./
			<h5>For C++, use:</h5> protoc your_proto_file_name.proto --cpp_out=./
			<h5>For Python, use:</h5> protoc your_proto_file_name.proto --python_out=./
		</p>
		<p>This summarizes the installation and use of Google Protocol Buffers for development on your Macintosh System. Happy Serialzing/Deserializing!</p>

		<p><h5>- Abhishek Gautam</br>
		Computer Science Graduate</br>
		State University of New York at Buffalo</br>
		UB Wireless Networks and Systems Lab</h5></p>

</html>
